<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Login</title>
    <link rel="stylesheet"
          th:href="@{/styles/login.css}"/>
</head>
<body>
<section class="forms-section">
    <h1 class="section-title">Login Forms</h1>
    <div class="forms">
        <div class="form-wrapper is-active">
            <button type="button" class="switcher switcher-login">
                Login
                <span class="underline"></span>
            </button>
            <form class="form form-login" th:action="@{/login}" method="post">
                <fieldset>
                    <div style="color: red" th:if="${param.error}">
                        <span>Nieprawdi≈Çowy dane</span>
                    </div>
                    <div class="input-block">
                        <label for="username">E-mail</label>
                        <input id="username" type="text" name="username" required>
                    </div>
                    <div class="input-block">
                        <label for="password">Password</label>
                        <input id="password" type="password" name="password" required>
                    </div>
                </fieldset>
                <button type="submit" class="btn-login">Login</button>
            </form>
        </div>
        <div class="form-wrapper">
            <button type="button" class="switcher switcher-signup">
                Registration
                <span class="underline"></span>
            </button>
            <form class="form form-signup" th:action="@{/registration}" enctype="multipart/form-data" method="post">
                <fieldset>
                    <div class="input-block">
                        <label for="signup-userName">Username</label>
                        <input id="signup-userName" type="text" name="username" required>
                    </div>
                    <div class="input-block">
                        <label for="signup-expertis">Expertis</label>
                        <input id="signup-expertis" type="number" name="expertis" required>
                    </div>
                    <div class="input-block">
                        <label for="signup-password">Password</label>
                        <input id="signup-password" type="password" name="rawPassword" required>
                    </div>
                    <div th:if="${errors}">
                        <p style="color: red" th:each="error : ${errors}" th:text="${error.defaultMessage}">Error message</p>
                    </div>
                </fieldset>
                <button type="submit" class="btn-signup">Continue</button>
            </form>
        </div>
    </div>
</section>
<script>
    const switchers = [...document.querySelectorAll('.switcher')]

    switchers.forEach(item => {
        item.addEventListener('click', function () {
            switchers.forEach(item => item.parentElement.classList.remove('is-active'))
            this.parentElement.classList.add('is-active')
        })
    })
</script>
</body>
</html>